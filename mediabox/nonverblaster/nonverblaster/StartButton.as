package nonverblaster {	import flash.display.*;	import flash.events.*;	import flash.net.*;	import flash.geom.*;	import flash.system.*;		import com.gskinner.motion.GTween;		public class StartButton extends Sprite {				private var main:MovieClip;		private var urlReq			:URLRequest;		private var bmp				:Bitmap = new Bitmap();		private var loader			:Loader = new Loader();		private var bmpHolder		:Sprite = new Sprite();						public var hasImage			:Boolean = false;		private var loaderContext	:LoaderContext = new LoaderContext();				public function StartButton(){					}		public function init(){			main = MovieClip(root);			this.buttonMode = true;			this.addEventListener(MouseEvent.ROLL_OVER, btHandler);			this.addEventListener(MouseEvent.ROLL_OUT, btHandler);			this.addEventListener(MouseEvent.CLICK, btHandler);			if(Glo.bal.playButtonUrl != ""){				grf.visible = false;				back.visible = false;				loadPic(Glo.bal.playButtonUrl);			}			this.useHandCursor = true;		}		private function loadPic(url){			loaderContext.checkPolicyFile = true;			loader.contentLoaderInfo.addEventListener(Event.COMPLETE, completeHandler);			loader.contentLoaderInfo.addEventListener(IOErrorEvent.IO_ERROR, errorHandler);			urlReq = new URLRequest(url);			loader.load(urlReq, loaderContext);		}		private function completeHandler(e:Event){			saveJPG(e.target.content.bitmapData);			hasImage = true;		}		private function errorHandler(e:Event){			trace("StartButton: No image found!");		}		private function saveJPG(bmpData){			bmp.bitmapData = new BitmapData(bmpData.width, bmpData.height);			bmp.bitmapData.copyPixels(bmpData, new Rectangle(0, 0, bmp.width, bmp.height), new Point(0, 0));			bmp.smoothing = true;			this.addChild(bmpHolder);			bmpHolder.addChild(bmp);			bmp.alpha = .8;			main.fitToScreen(null);		}		public function setTint(){			Colorizer.colorize(grf, Glo.bal.controlColor);			Colorizer.colorize(back, Glo.bal.controlBackColor);			back.alpha = .6;		}		private function btHandler(event:Event){			switch (event.type) {				case "click" :				if(main.started != true){					main.playMedia();				} else {					main.restartMedia();					main.startHideTimer();				}				break;								case "rollOver":				bmp.alpha = 1;				back.alpha = .7;				break;								case "rollOut":				bmp.alpha = .8				back.alpha = .6;				break;			}		}	}}